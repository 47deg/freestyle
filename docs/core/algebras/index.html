<html><head><meta charset="utf-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" /><title>Freestyle</title><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="description" content="A Cohesive &amp; Pragmatic Framework of FP centric Scala libraries" /><meta name="author" content="47 Degrees" /><meta name="og:image" content="/img/poster.png" /><meta name="og:title" content="Freestyle" /><meta name="og:site_name" content="Freestyle" /><meta name="og:url" content="https://47deg.github.io/freestyle/" /><meta name="og:type" content="website" /><meta name="og:description" content="A Cohesive &amp; Pragmatic Framework of FP centric Scala libraries" /><meta name="twitter:image" content="/img/poster.png" /><meta name="twitter:card" content="summary_large_image" /><meta name="twitter:site" content="" /><meta name="kazari-dependencies" content="" /><meta name="kazari-resolvers" content="" /><link rel="icon" type="image/png" href="/img/favicon.png" /><link rel="icon" type="image/png" sizes="16x16" href="/img/favicon16x16.png" /><link rel="icon" type="image/png" sizes="24x24" href="/img/favicon24x24.png" /><link rel="icon" type="image/png" sizes="32x32" href="/img/favicon32x32.png" /><link rel="icon" type="image/png" sizes="48x48" href="/img/favicon48x48.png" /><link rel="icon" type="image/png" sizes="57x57" href="/img/favicon57x57.png" /><link rel="icon" type="image/png" sizes="60x60" href="/img/favicon60x60.png" /><link rel="icon" type="image/png" sizes="64x64" href="/img/favicon64x64.png" /><link rel="icon" type="image/png" sizes="70x70" href="/img/favicon70x70.png" /><link rel="icon" type="image/png" sizes="72x72" href="/img/favicon72x72.png" /><link rel="icon" type="image/png" sizes="76x76" href="/img/favicon76x76.png" /><link rel="icon" type="image/png" sizes="96x96" href="/img/favicon96x96.png" /><link rel="icon" type="image/png" sizes="114x114" href="/img/favicon114x114.png" /><link rel="icon" type="image/png" sizes="120x120" href="/img/favicon120x120.png" /><link rel="icon" type="image/png" sizes="128x128" href="/img/favicon128x128.png" /><link rel="icon" type="image/png" sizes="144x144" href="/img/favicon144x144.png" /><link rel="icon" type="image/png" sizes="150x150" href="/img/favicon150x150.png" /><link rel="icon" type="image/png" sizes="152x152" href="/img/favicon152x152.png" /><link rel="icon" type="image/png" sizes="196x196" href="/img/favicon196x196.png" /><link rel="icon" type="image/png" sizes="310x310" href="/img/favicon310x310.png" /><link rel="icon" type="image/png" sizes="310x150" href="/img/favicon310x150.png" /><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" /><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" /><link rel="stylesheet" href="/highlight/styles/dracula.css" /><link rel="stylesheet" href="/css/style.css" /><link rel="stylesheet" href="/css/palette.css" /><link rel="stylesheet" href="/css/codemirror.css" /><link rel="stylesheet" href="/css/kazari-style.css" /><link rel="stylesheet" href="/css/solarized-dark.css" /><link rel="stylesheet" href="/css/dracula.css" /><link rel="stylesheet" href="/css/custom.css" /></head><body class="docs"><div id="wrapper"><div id="sidebar-wrapper"><ul id="sidebar" class="sidebar-nav"><li class="sidebar-brand"><a href="/" class="brand"><div class="brand-wrapper"><span>Freestyle</span></div></a></li> <li><a href="/docs/" class="">Quick Start</a></li> <li><a href="/" class="">Core Concepts</a> <ul class="sub_section"> <li><a href="/docs/core/algebras/" class=" active ">Algebras</a></li> <li><a href="/docs/core/interpreters/" class="">Handlers</a></li> <li><a href="/docs/core/parallelism/" class="">Parallelism</a></li> <li><a href="/docs/core/modules/" class="">Modules</a></li> <li><a href="/docs/core/tagless/" class="">Tagless Final</a></li></ul></li> <li><a href="/docs/effects/" class="">Effects</a> <ul class="sub_section"> <li><a href="/docs/effects/error" class="">Error</a></li> <li><a href="/docs/effects/either" class="">Either</a></li> <li><a href="/docs/effects/option" class="">Option</a></li> <li><a href="/docs/effects/reader" class="">Reader</a></li> <li><a href="/docs/effects/writer" class="">Writer</a></li> <li><a href="/docs/effects/state" class="">State</a></li> <li><a href="/docs/effects/traverse" class="">Traverse</a></li> <li><a href="/docs/effects/validation" class="">Validation</a></li> <li><a href="/docs/effects/async" class="">Async Callbacks</a></li></ul></li> <li><a href="/docs/stack/" class="">Example Target Stack</a></li> <li><a href="/TODO.html" class="">Patterns</a> <ul class="sub_section"> <li><a href="/docs/effects/Cache/" class="">Cache</a></li> <li><a href="/TODO.html" class="">Dependency Injection</a></li> <li><a href="/docs/patterns/config" class="">Configuration</a></li> <li><a href="/docs/patterns/logging" class="">Logging</a></li></ul></li> <li><a href="/docs/integrations" class="">Integrations</a> <ul class="sub_section"> <li><a href="/docs/integrations/cats" class="">Cats</a></li> <li><a href="/docs/integrations/play" class="">Play Framework</a></li> <li><a href="/docs/integrations/monix" class="">Monix</a></li> <li><a href="/docs/integrations/fetch" class="">Fetch</a></li> <li><a href="/docs/integrations/fs2" class="">FS2</a></li> <li><a href="/docs/integrations/doobie" class="">Doobie</a></li> <li><a href="/docs/integrations/slick" class="">Slick</a></li> <li><a href="/docs/integrations/akkahttp" class="">Akka HTTP</a></li> <li><a href="/docs/integrations/finch" class="">Finch</a></li> <li><a href="/docs/integrations/http4s" class="">http4s</a></li></ul></li> <li><a href="/docs/related/" class="">Related Work</a> <ul class="sub_section"> <li><a href="/docs/related/#bibliography" class="">Bibliography</a></li> <li><a href="/docs/related/#Scala" class="">Scala Libraries</a></li></ul></li></ul></div><div id="page-content-wrapper"><div class="nav"><div class="container-fluid"><div class="row"><div class="col-lg-12"><div class="action-menu pull-left clearfix"><a href="#menu-toggle" id="menu-toggle"><i class="fa fa-bars" aria-hidden="true"></i></a></div><ul class="pull-right"><li id="gh-eyes-item" class="hidden-xs"><a href="https://github.com/47deg/freestyle"><i class="fa fa-eye"></i><span>WATCH<span id="eyes" class="label label-default">--</span></span></a></li><li id="gh-stars-item" class="hidden-xs"><a href="https://github.com/47deg/freestyle"><i class="fa fa-star-o"></i><span>STARS<span id="stars" class="label label-default">--</span></span></a></li><li><a href="#" onclick="shareSiteTwitter('Freestyle A Cohesive &amp; Pragmatic Framework of FP centric Scala libraries');"><i class="fa fa-twitter"></i></a></li><li><a href="#" onclick="shareSiteFacebook('Freestyle A Cohesive &amp; Pragmatic Framework of FP centric Scala libraries');"><i class="fa fa-facebook"></i></a></li><li><a href="#" onclick="shareSiteGoogle();"><i class="fa fa-google-plus"></i></a></li></ul></div></div></div></div><div id="content" data-github-owner="47deg" data-github-repo="freestyle"><div class="content-wrapper"><section><h1 id="algebras">Algebras</h1>

<p>Algebraic Data Types are the foundation used to define <code class="highlighter-rouge">Free</code> based applications and libraries that express their operations as algebras. At the core of Freestyle algebras is the <code class="highlighter-rouge">@free</code> macro annotation. <code class="highlighter-rouge">@free</code> expands abstract traits and classes automatically deriving Algebraic Data types and all the machinery needed to compose them from abstract method definitions.</p>

<p>When you build an algebra with Freestyle, you only need to concentrate on the API that you want to be exposed as abstract smart constructors, without worrying how they will be implemented.</p>

<p>A trait or abstract class annotated with <code class="highlighter-rouge">@free</code> or <a href="../tagless/"><code class="highlighter-rouge">@tagless</code></a> is all you need to create your first algebra with Freestyle:</p>

<div class="language-scala highlighter-rouge"><pre class="highlight"><code><span class="k">import</span> <span class="nn">freestyle._</span>
<span class="c1">// import freestyle._
</span>
<span class="k">case</span> <span class="k">class</span> <span class="nc">User</span><span class="o">(</span><span class="n">id</span><span class="k">:</span> <span class="kt">Long</span><span class="o">,</span> <span class="n">name</span><span class="k">:</span> <span class="kt">String</span><span class="o">)</span>
<span class="c1">// defined class User
</span>
<span class="nd">@free</span> <span class="k">trait</span> <span class="nc">UserRepository</span> <span class="o">{</span>
  <span class="k">def</span> <span class="n">get</span><span class="o">(</span><span class="n">id</span><span class="k">:</span> <span class="kt">Long</span><span class="o">)</span><span class="k">:</span> <span class="kt">FS</span><span class="o">[</span><span class="kt">User</span><span class="o">]</span>
  <span class="k">def</span> <span class="n">save</span><span class="o">(</span><span class="n">user</span><span class="k">:</span> <span class="kt">User</span><span class="o">)</span><span class="k">:</span> <span class="kt">FS</span><span class="o">[</span><span class="kt">User</span><span class="o">]</span>
  <span class="k">def</span> <span class="n">list</span><span class="k">:</span> <span class="kt">FS</span><span class="o">[</span><span class="kt">List</span><span class="o">[</span><span class="kt">User</span><span class="o">]]</span>
<span class="o">}</span>
<span class="c1">// defined trait UserRepository
// defined object UserRepository
</span></code></pre>
</div>

<p>This is similar to the simplified manual encoding below:</p>

<div class="language-scala highlighter-rouge"><pre class="highlight"><code><span class="k">import</span> <span class="nn">freestyle.</span><span class="o">{</span><span class="nc">FreeS</span><span class="o">,</span> <span class="nc">EffectLike</span><span class="o">}</span>
<span class="c1">// import freestyle.{FreeS, EffectLike}
</span>
<span class="k">case</span> <span class="k">class</span> <span class="nc">User</span><span class="o">(</span><span class="n">id</span><span class="k">:</span> <span class="kt">Long</span><span class="o">,</span> <span class="n">name</span><span class="k">:</span> <span class="kt">String</span><span class="o">)</span>
<span class="c1">// defined class User
</span>
<span class="k">trait</span> <span class="nc">UserRepository</span><span class="o">[</span><span class="kt">F</span><span class="o">[</span><span class="k">_</span><span class="o">]]</span> <span class="nc">extends</span> <span class="n">freestyle</span><span class="o">.</span><span class="nc">EffectLike</span><span class="o">[</span><span class="kt">F</span><span class="o">]</span> <span class="o">{</span>
  <span class="k">def</span> <span class="n">get</span><span class="o">(</span><span class="n">id</span><span class="k">:</span> <span class="kt">Long</span><span class="o">)</span><span class="k">:</span> <span class="kt">FS</span><span class="o">[</span><span class="kt">User</span><span class="o">]</span>
  <span class="k">def</span> <span class="n">save</span><span class="o">(</span><span class="n">user</span><span class="k">:</span> <span class="kt">User</span><span class="o">)</span><span class="k">:</span> <span class="kt">FS</span><span class="o">[</span><span class="kt">User</span><span class="o">]</span>
  <span class="k">def</span> <span class="n">getAll</span><span class="o">(</span><span class="n">filter</span><span class="k">:</span> <span class="kt">String</span><span class="o">)</span><span class="k">:</span> <span class="kt">FS</span><span class="o">[</span><span class="kt">List</span><span class="o">[</span><span class="kt">User</span><span class="o">]]</span>
<span class="o">}</span>
<span class="c1">// defined trait UserRepository
// warning: previously defined object UserRepository is not a companion to trait UserRepository.
// Companions must be defined together; you may wish to use :paste mode for this.
</span>
<span class="k">object</span> <span class="nc">UserRepository</span> <span class="o">{</span>
  <span class="k">import</span> <span class="nn">_root_.cats.arrow.FunctionK</span>
  <span class="k">import</span> <span class="nn">_root_.freestyle.InjK</span>
  <span class="k">import</span> <span class="nn">_root_.freestyle.FreeS</span>

  <span class="k">sealed</span> <span class="k">trait</span> <span class="nc">Op</span><span class="o">[</span><span class="kt">A</span><span class="o">]</span> <span class="nc">extends</span> <span class="nc">Product</span> <span class="k">with</span> <span class="nc">Serializable</span>
  <span class="k">final</span> <span class="k">case</span> <span class="k">class</span> <span class="nc">Get</span><span class="o">(</span><span class="n">id</span><span class="k">:</span> <span class="kt">Long</span><span class="o">)</span> <span class="k">extends</span> <span class="nc">Op</span><span class="o">[</span><span class="kt">User</span><span class="o">]</span>
  <span class="k">final</span> <span class="k">case</span> <span class="k">class</span> <span class="nc">Save</span><span class="o">(</span><span class="n">user</span><span class="k">:</span> <span class="kt">User</span><span class="o">)</span> <span class="k">extends</span> <span class="nc">Op</span><span class="o">[</span><span class="kt">User</span><span class="o">]</span>
  <span class="k">final</span> <span class="k">case</span> <span class="k">class</span> <span class="nc">GetAll</span><span class="o">(</span><span class="n">filter</span><span class="k">:</span> <span class="kt">String</span><span class="o">)</span> <span class="k">extends</span> <span class="nc">Op</span><span class="o">[</span><span class="kt">List</span><span class="o">[</span><span class="kt">User</span><span class="o">]]</span>

  <span class="k">class</span> <span class="nc">To</span><span class="o">[</span><span class="kt">L</span><span class="o">[</span><span class="k">_</span><span class="o">]](</span><span class="k">implicit</span> <span class="n">ii</span><span class="k">:</span> <span class="kt">InjK</span><span class="o">[</span><span class="kt">Op</span>, <span class="kt">L</span><span class="o">])</span> <span class="k">extends</span> <span class="nc">UserRepository</span><span class="o">[</span><span class="kt">L</span><span class="o">]</span> <span class="o">{</span>

    <span class="k">private</span><span class="o">[</span><span class="kt">this</span><span class="o">]</span> <span class="k">val</span> <span class="n">inj</span> <span class="k">=</span> <span class="nc">FreeS</span><span class="o">.</span><span class="n">inject</span><span class="o">[</span><span class="kt">Op</span>, <span class="kt">L</span><span class="o">](</span><span class="n">ii</span><span class="o">)</span>

    <span class="k">def</span> <span class="n">get</span><span class="o">(</span><span class="n">id</span><span class="k">:</span> <span class="kt">Long</span><span class="o">)</span><span class="k">:</span> <span class="kt">FS</span><span class="o">[</span><span class="kt">User</span><span class="o">]</span> <span class="k">=</span> <span class="n">inj</span><span class="o">(</span> <span class="nc">Get</span><span class="o">(</span><span class="n">id</span><span class="o">)</span> <span class="o">)</span>

    <span class="k">def</span> <span class="n">save</span><span class="o">(</span><span class="n">user</span><span class="k">:</span> <span class="kt">User</span><span class="o">)</span><span class="k">:</span> <span class="kt">FS</span><span class="o">[</span><span class="kt">User</span><span class="o">]</span> <span class="k">=</span> <span class="n">inj</span><span class="o">(</span> <span class="nc">Save</span><span class="o">(</span><span class="n">user</span><span class="o">)</span> <span class="o">)</span>

    <span class="k">def</span> <span class="n">getAll</span><span class="o">(</span><span class="n">filter</span><span class="k">:</span> <span class="kt">String</span><span class="o">)</span><span class="k">:</span> <span class="kt">FS</span><span class="o">[</span><span class="kt">List</span><span class="o">[</span><span class="kt">User</span><span class="o">]]</span> <span class="k">=</span> <span class="n">inj</span><span class="o">(</span> <span class="nc">GetAll</span><span class="o">(</span><span class="n">filter</span><span class="o">)</span> <span class="o">)</span>
  <span class="o">}</span>

  <span class="k">implicit</span> <span class="k">def</span> <span class="n">to</span><span class="o">[</span><span class="kt">L</span><span class="o">[</span><span class="k">_</span><span class="o">]](</span><span class="k">implicit</span> <span class="n">I</span><span class="k">:</span> <span class="kt">InjK</span><span class="o">[</span><span class="kt">Op</span>, <span class="kt">L</span><span class="o">])</span><span class="k">:</span> <span class="kt">UserRepository</span><span class="o">[</span><span class="kt">L</span><span class="o">]</span> <span class="k">=</span>
    <span class="k">new</span> <span class="nc">To</span><span class="o">[</span><span class="kt">L</span><span class="o">]</span>

  <span class="k">def</span> <span class="n">apply</span><span class="o">[</span><span class="kt">L</span><span class="o">[</span><span class="k">_</span><span class="o">]](</span><span class="k">implicit</span> <span class="n">c</span><span class="k">:</span> <span class="kt">UserRepository</span><span class="o">[</span><span class="kt">L</span><span class="o">])</span><span class="k">:</span> <span class="kt">UserRepository</span><span class="o">[</span><span class="kt">L</span><span class="o">]</span> <span class="k">=</span> <span class="n">c</span>

  <span class="k">trait</span> <span class="nc">Handler</span><span class="o">[</span><span class="kt">M</span><span class="o">[</span><span class="k">_</span><span class="o">]]</span> <span class="nc">extends</span> <span class="nc">FSHandler</span><span class="o">[</span><span class="kt">Op</span>, <span class="kt">M</span><span class="o">]</span> <span class="o">{</span>

    <span class="k">protected</span><span class="o">[</span><span class="kt">this</span><span class="o">]</span> <span class="k">def</span> <span class="n">get</span><span class="o">(</span><span class="n">id</span><span class="k">:</span> <span class="kt">Long</span><span class="o">)</span><span class="k">:</span> <span class="kt">M</span><span class="o">[</span><span class="kt">User</span><span class="o">]</span>
    <span class="k">protected</span><span class="o">[</span><span class="kt">this</span><span class="o">]</span> <span class="k">def</span> <span class="n">save</span><span class="o">(</span><span class="n">user</span><span class="k">:</span> <span class="kt">User</span><span class="o">)</span><span class="k">:</span> <span class="kt">M</span><span class="o">[</span><span class="kt">User</span><span class="o">]</span>
    <span class="k">protected</span><span class="o">[</span><span class="kt">this</span><span class="o">]</span> <span class="k">def</span> <span class="n">getAll</span><span class="o">(</span><span class="n">filter</span><span class="k">:</span> <span class="kt">String</span><span class="o">)</span><span class="k">:</span> <span class="kt">M</span><span class="o">[</span><span class="kt">List</span><span class="o">[</span><span class="kt">User</span><span class="o">]]</span>

    <span class="k">override</span> <span class="k">def</span> <span class="n">apply</span><span class="o">[</span><span class="kt">A</span><span class="o">](</span><span class="n">fa</span><span class="k">:</span> <span class="kt">Op</span><span class="o">[</span><span class="kt">A</span><span class="o">])</span><span class="k">:</span> <span class="kt">M</span><span class="o">[</span><span class="kt">A</span><span class="o">]</span> <span class="k">=</span> <span class="n">fa</span> <span class="k">match</span> <span class="o">{</span>
      <span class="k">case</span> <span class="n">l</span> <span class="k">@</span> <span class="nc">Get</span><span class="o">(</span><span class="k">_</span><span class="o">)</span> <span class="k">=&gt;</span> <span class="n">get</span><span class="o">(</span><span class="n">l</span><span class="o">.</span><span class="n">id</span><span class="o">)</span>
      <span class="k">case</span> <span class="n">l</span> <span class="k">@</span> <span class="nc">Save</span><span class="o">(</span><span class="k">_</span><span class="o">)</span> <span class="k">=&gt;</span> <span class="n">save</span><span class="o">(</span><span class="n">l</span><span class="o">.</span><span class="n">user</span><span class="o">)</span>
      <span class="k">case</span> <span class="n">l</span> <span class="k">@</span> <span class="nc">GetAll</span><span class="o">(</span><span class="k">_</span><span class="o">)</span> <span class="k">=&gt;</span> <span class="n">getAll</span><span class="o">(</span><span class="n">l</span><span class="o">.</span><span class="n">filter</span><span class="o">)</span>
    <span class="o">}</span>
  <span class="o">}</span>

<span class="o">}</span>
<span class="c1">// defined object UserRepository
// warning: previously defined trait UserRepository is not a companion to object UserRepository.
// Companions must be defined together; you may wish to use :paste mode for this.
</span></code></pre>
</div>

<p>Let’s examine the two fragments above to understand what Freestyle is doing for you.</p>

<h2 id="automatic-method-implementations">Automatic method implementations</h2>

<p>From the abstract smart constructors, Freestyle generates an Algebraic data type available through a companion object.
This Algebraic data type contains the shape needed to implement the abstract methods.</p>

<p>Freestyle automatically implements those abstract methods using the <code class="highlighter-rouge">Inject</code> strategy for composing unrelated ADTs through a Coproduct as described
in <a href="http://www.cs.ru.nl/~W.Swierstra/Publications/DataTypesALaCarte.pdf">Data types a la Carte</a> by Wouter Swierstra.</p>

<h2 id="dependency-injection">Dependency Injection</h2>

<p>As you may have noticed when defining algebras with <code class="highlighter-rouge">@free</code>, there is no need to provide implicit evidence for the necessary <code class="highlighter-rouge">Inject</code> typeclasses that otherwise need to be manually provided to further evaluate your free monads when they are interleaved with other <code class="highlighter-rouge">Free</code> programs.</p>

<p>Beside providing the appropriate <code class="highlighter-rouge">Inject</code> evidences,  Freestyle creates an implicit method that will enable implicit summoning of the smart
constructors class implementation and an <code class="highlighter-rouge">apply</code> method that allows summoning instances of your smart constructors where needed.
This effectively enables implicits based Dependency Injection where you may choose to override implementations
using the implicits scoping rules to place different implementations where appropriate.</p>

<div class="language-scala highlighter-rouge"><pre class="highlight"><code><span class="k">val</span> <span class="n">userRepository</span> <span class="k">=</span> <span class="nc">UserRepository</span><span class="o">[</span><span class="kt">UserRepository.Op</span><span class="o">]</span>
<span class="c1">// userRepository: UserRepository[UserRepository.Op] = UserRepository$To@29f635fe
</span></code></pre>
</div>

<div class="language-scala highlighter-rouge"><pre class="highlight"><code><span class="k">def</span> <span class="n">myService</span><span class="o">[</span><span class="kt">F</span><span class="o">[</span><span class="k">_</span><span class="o">]](</span><span class="k">implicit</span> <span class="n">userRepository</span><span class="k">:</span> <span class="kt">UserRepository</span><span class="o">[</span><span class="kt">F</span><span class="o">])</span> <span class="k">=</span> <span class="o">???</span>
<span class="c1">// myService: [F[_]](implicit userRepository: UserRepository[F])Nothing
</span></code></pre>
</div>

<div class="language-scala highlighter-rouge"><pre class="highlight"><code><span class="k">def</span> <span class="n">myService2</span><span class="o">[</span><span class="kt">F</span><span class="o">[</span><span class="k">_</span><span class="o">]</span><span class="kt">:</span> <span class="kt">UserRepository</span><span class="o">]</span> <span class="k">=</span> <span class="o">???</span>
<span class="c1">// myService2: [F[_]](implicit evidence$1: UserRepository[F])Nothing
</span></code></pre>
</div>

<h2 id="convenient-type-aliases">Convenient type aliases</h2>

<p>All companions generated with <code class="highlighter-rouge">@free</code> define a <code class="highlighter-rouge">sealed trait Op[A]</code> as the root node of the requests ADT.
You may use this to manually build <code class="highlighter-rouge">Coproduct</code> types which will serve in the parametrization of your application and code as in the example below:</p>

<div class="language-scala highlighter-rouge"><pre class="highlight"><code><span class="k">import</span> <span class="nn">cats.data.Coproduct</span>
<span class="c1">// import cats.data.Coproduct
</span>
<span class="nd">@free</span> <span class="k">trait</span> <span class="nc">Service1</span><span class="o">{</span>
  <span class="k">def</span> <span class="n">x</span><span class="o">(</span><span class="n">n</span><span class="k">:</span> <span class="kt">Int</span><span class="o">)</span><span class="k">:</span> <span class="kt">FS</span><span class="o">[</span><span class="kt">Int</span><span class="o">]</span>
<span class="o">}</span>
<span class="c1">// defined trait Service1
// defined object Service1
</span>
<span class="nd">@free</span> <span class="k">trait</span> <span class="nc">Service2</span><span class="o">{</span>
  <span class="k">def</span> <span class="n">y</span><span class="o">(</span><span class="n">n</span><span class="k">:</span> <span class="kt">Int</span><span class="o">)</span><span class="k">:</span> <span class="kt">FS</span><span class="o">[</span><span class="kt">Int</span><span class="o">]</span>
<span class="o">}</span>
<span class="c1">// defined trait Service2
// defined object Service2
</span>
<span class="nd">@free</span> <span class="k">trait</span> <span class="nc">Service3</span><span class="o">{</span>
  <span class="k">def</span> <span class="n">z</span><span class="o">(</span><span class="n">n</span><span class="k">:</span> <span class="kt">Int</span><span class="o">)</span><span class="k">:</span> <span class="kt">FS</span><span class="o">[</span><span class="kt">Int</span><span class="o">]</span>
<span class="o">}</span>
<span class="c1">// defined trait Service3
// defined object Service3
</span>
<span class="k">type</span> <span class="kt">C1</span><span class="o">[</span><span class="kt">A</span><span class="o">]</span> <span class="k">=</span> <span class="nc">Coproduct</span><span class="o">[</span><span class="kt">Service1.Op</span>, <span class="kt">Service2.Op</span>, <span class="kt">A</span><span class="o">]</span>
<span class="c1">// defined type alias C1
</span>
<span class="k">type</span> <span class="kt">Module</span><span class="o">[</span><span class="kt">A</span><span class="o">]</span> <span class="k">=</span> <span class="nc">Coproduct</span><span class="o">[</span><span class="kt">Service3.Op</span>, <span class="kt">C1</span>, <span class="kt">A</span><span class="o">]</span>
<span class="c1">// defined type alias Module
</span></code></pre>
</div>

<p>This is obviously far from ideal, as building <code class="highlighter-rouge">Coproduct</code> types by hand often results in bizarre compile errors
when the types don’t align properly from being placed in the wrong order.</p>

<p>Fear not. Freestyle provides a <a href="../modules/">modular system</a> to achieve Onion-style architectures
and removes all the complexity from building <code class="highlighter-rouge">Coproduct</code> types by hand and compose arbitrarily nested Modules containing Algebras.</p>

<p><a href="../modules/">Continue to Modules</a>.</p>
</section></div></div></div></div><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script><script src="/highlight/highlight.pack.js"></script><script>hljs.configure({
languages:['scala','java','bash']
});
hljs.initHighlighting();
             </script><script src="/js/main.js"></script><script src="/js/kazari.js"></script><script>
$(document).ready(function() {
	kazari.KazariPlugin().decorateCode('https://scala-evaluator-212.herokuapp.com/eval', 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.S2F6YXJp.Jl2eqMfw8IakJF93PjxTbrf-8YUJgX5OoOfy5JHE8Yw', '', 'solarized-dark')
})
    </script></body></html>